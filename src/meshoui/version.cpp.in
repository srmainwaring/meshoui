/*
* This file was automatically generated by CMake during the build process of @PROJECT_NAME@
* Please do not edit it by hand. Thanks.
*/

#include "@PROJECT_NAME@/version.h"

#include<algorithm>

namespace @PROJECT_NAME@ {
    namespace git {

        bool IsPopulated() {
            return @GIT_RETRIEVED_STATE@;
        }

        bool AnyUncommittedChanges() {
            return @GIT_IS_DIRTY@;
        }

        std::string AuthorName() {
            return "@GIT_AUTHOR_NAME@";
        }

        std::string AuthorEmail() {
            return "@GIT_AUTHOR_EMAIL@";
        }

        std::string CommitSHA1() {
            return "@GIT_HEAD_SHA1@";
        }

        std::string CommitDate() {
            return "@GIT_COMMIT_DATE_ISO8601@";
        }

        std::string LastTag() {
            return "@GIT_LAST_TAG@";
        }

        std::string CurrentBranch() {
            return "@GIT_CURRENT_BRANCH@";
        }

        std::string GetNormalizedVersionString() {
            std::string version("@GIT_LAST_TAG@");

            auto cur_branch = CurrentBranch();
            if (not cur_branch.empty()) {
                version += "_" + cur_branch;
            }

            std::string date = "@GIT_COMMIT_DATE_ISO8601@";
            std::replace(date.begin(), date.end(), ' ', '_');

            version += "_" + date;

            if (AnyUncommittedChanges()) {
                version += "_DIRTY";
            }

            return version;
        }

        std::string ProjectName() {
            return "@PROJECT_NAME@";
        }

    }
}
